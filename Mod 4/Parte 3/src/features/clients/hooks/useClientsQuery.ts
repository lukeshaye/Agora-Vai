// /packages/web/src/features/clients/hooks/useClientsQuery.ts\n\nimport { useQuery } from '@tanstack/react-query';\nimport { apiClient } from '@/packages/api-client';\nimport type { ClientType } from '@/packages/shared-types';\n\n/**\n * Define a função de busca que chama a API backend via apiClient.\n * Isso substitui a chamada direta ao Supabase que existia no store.ts [cite: 54][cite_start].\n * A rota da API (conforme src/worker/index.ts) é GET /api/clients.\n */\nconst getClients = async (): Promise<ClientType[]> => {\n  // Assumindo que apiClient.get faz a requisição e retorna os dados JSON\n  // ou lança um erro em caso de falha.\n  // O backend (worker) retorna 'clients.results' que é um array.\n  try {\n    const data = await apiClient.get<ClientType[]>('/api/clients');\n    return data;\n  } catch (error) {\n    console.error('Erro ao buscar clientes:', error);\n    throw new Error('Não foi possível carregar os clientes.');\n  }\n};\n\n/**\n * Hook (Query) para buscar a lista de clientes.\n * Implementa o Nível 3 (Estado do Servidor) conforme o PGEC (2.13) [cite: 59][cite_start].\n * Substitui a lógica de `fetchClients` do `store.ts` (Zustand) [cite: 54, 60][cite_start].\n */\nexport const useClientsQuery = () => {\n  return useQuery<ClientType[], Error>({\n    // queryKey é usado pelo React Query para cacheamento [cite: 76][cite_start]\n    queryKey: ['clients'],\n    // queryFn é a função que busca os dados [cite: 56][cite_start]\n    queryFn: getClients,\n    \n    // O React Query gerenciará o cache, loading, e error states [cite: 60]\n    staleTime: 1000 * 60 * 5, // 5 minutos de cache\n  });\n};\n